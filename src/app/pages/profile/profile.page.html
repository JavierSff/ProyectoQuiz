<ion-header translucent>
  <ion-toolbar>
    <ion-title>Profile</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="profile-bg">
  <ion-refresher slot="fixed" (ionRefresh)="handleRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

<!-- Profile Header: Avatar + Info + Button side by side -->
<div class="profile-header-horizontal">
  <div class="profile-image-wrapper">
    <img [src]="profileImage || 'assets/noprofile.jpg'" alt="Profile Image" class="profile-image" />
    <button *ngIf="isEditing" class="image-edit-btn" (click)="imageInput.click()">
      <ion-icon name="camera"></ion-icon>
    </button>
    <input #imageInput type="file" (change)="onImageSelected($event)" accept="image/*" hidden />
  </div>

  <div class="profile-info-block">
    <h2>{{ fullName || 'John Doe' }}</h2>
    <p>{{ '@' + (username || 'johndoe') }}</p>

    <button class="edit-profile-btn" (click)="editProfile()">
      {{ isEditing ? 'Save Changes' : 'Edit Profile' }}
    </button>
  </div>
</div>


<!-- Personal Info Form -->
<div class="profile-form">
  <div class="form-group">
    <label>Name</label>
    <input type="text" [(ngModel)]="fullName" [readonly]="!isEditing" />
  </div>

  <div class="form-group">
    <label>Email address</label>
    <input type="email" [(ngModel)]="email" [readonly]="!isEditing" />
  </div>

  <div class="form-group">
    <label>Phone</label>
    <input type="tel" [(ngModel)]="phone" [readonly]="!isEditing" />
  </div>
</div>


