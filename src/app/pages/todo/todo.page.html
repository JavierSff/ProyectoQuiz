<ion-content>

  <ion-refresher slot="fixed" (ionRefresh)="handleRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <main class="todo-container">
    <div class="add-task">
      <input type="text" #todoText placeholder="Add a new task" />
      <button (click)="addTask(todoText.value)">Add</button>
    </div>

    <ion-list>
      <ion-item-sliding *ngFor="let todoItem of todoList">
        <ion-item lines="none" [ngClass]="{'completed': todoItem.completed}">
          <ion-checkbox
            slot="start"
            [(ngModel)]="todoItem.completed"
            (ionChange)="toggleCompleted(todoItem.id, todoItem.completed)">
          </ion-checkbox>
          <ion-label [class.completed]="todoItem.completed">
            {{ todoItem.task }}
          </ion-label>
        </ion-item>
      
        <ion-item-options side="end">
          <ion-item-option class="delete-option" color="danger" (click)="deleteTask(todoItem.id)">
            <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
          </ion-item-option>
        </ion-item-options>
      </ion-item-sliding>
      
    </ion-list>
    
  </main>

</ion-content>
